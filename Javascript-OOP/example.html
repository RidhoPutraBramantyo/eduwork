<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dynamic Table Example</title>
    <style>
      table {
        border-collapse: collapse;
        width: 100%;
      }

      th,
      td {
        border: 1px solid black;
        padding: 8px;
        text-align: left;
      }
    </style>
  </head>
  <body>
    <div id="app"></div>

    <script>
      // Definisi kelas "Table"
      class Table {
        constructor(init) {
          this.init = init; // Inisialisasi dengan data awal
        }

        // Metode untuk membuat bagian header tabel
        createHeader(data) {
          let open = "<thead><tr>"; // Bagian awal header tabel
          let close = "</tr></thead>"; // Bagian akhir header tabel
          data.forEach((d) => {
            open += `<th>${d}</th>`; // Tambahkan setiap kolom ke bagian header
          });

          return open + close; // Gabungkan bagian header
        }

        // Metode untuk membuat bagian body tabel
        createBody(data) {
          let open = "<tbody>"; // Bagian awal body tabel
          let close = "</tbody>"; // Bagian akhir body tabel

          data.forEach((d) => {
            open += `
            <tr>
              <td>${d[0]}</td>
              <td>${d[1]}</td>
            </tr>
          `; // Tambahkan setiap baris data ke bagian body
          });

          return open + close; // Gabungkan bagian body
        }

        // Metode untuk merender tabel ke elemen HTML tertentu
        render(element) {
          let table =
            "<table class='table table-hover'>" + // Membuat tag awal tabel dengan kelas CSS
            this.createHeader(this.init.columns) + // Tambahkan bagian header ke tabel
            this.createBody(this.init.data) + // Tambahkan bagian body ke tabel
            "</table>"; // Tag akhir tabel
          element.innerHTML = table; // Tampilkan tabel di elemen HTML
        }
      }

      // Membuat objek "table" menggunakan kelas "Table" dengan data dan kolom yang telah ditentukan
      const table = new Table({
        columns: ["Name", "Email"], // Kolom yang akan ditampilkan
        data: [
          ["Edi Hartono", "edi.eduwork@gmail.com"], // Data baris pertama
          ["Dodi Prakoso", "dodi@upscale.id"], // Data baris kedua
        ],
      });

      // Menemukan elemen HTML dengan ID "app"
      const app = document.getElementById("app");

      // Merender tabel ke elemen HTML yang ditentukan
      table.render(app);
    </script>
  </body>
</html>
